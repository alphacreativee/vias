import{preloadImages}from"../../libs/utils.js";let lenis;function header(){ScrollTrigger.refresh(),ScrollTrigger.create({start:"top top",end:99999,onUpdate:e=>{0===e.progress&&$("header").removeClass("header--scroll"),.004<e.progress?$("header").addClass("header--scroll"):$("header").removeClass("header--scroll"),1===e.direction?$(".cta-mess").addClass("hide"):$(".cta-mess").removeClass("hide")}})}function footer(){ScrollTrigger.refresh();var e=window.innerWidth;gsap.fromTo(".footer-main .data-zoom-in-footer",{scale:991<e?1.3:1.2,"will-change":"transform"},{scale:1,duration:.5,ease:"none",scrollTrigger:{trigger:".footer-ovl .data-zoom-in-footer",start:"top 75%",scrub:!0}})}function hero(){$("section.hero").length<1||$(".hero-slider").each(function(){var e=$(this);let o;var t=e.attr("data-loop"),r=e.data("autoplay")?{delay:e.data("autoplay")}:e.data("autoplay");o=e.is("[data-speed]")?e.data("speed"):900,new Swiper(e[0],{direction:"vertical",speed:o,loop:t,autoplay:r,preloadImages:!0,parallax:!0,lazy:{loadPrevNext:!0},allowTouchMove:!1,simulateTouch:!1,mousewheel:!1,pagination:{el:".hero .swiper-pagination",clickable:!1,renderBullet:function(e,o){return`
            <button class="${o}">
            <svg class="progress" width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle class="circle-origin" cx="14" cy="14" r="13" stroke="white"/>
            </svg>
            </button>`}},navigation:{nextEl:".hero .swiper-button-next",prevEl:".hero .swiper-button-prev"},on:{init:function(){$(this.slides[this.activeIndex])}}})})}function discover(){$(".section-discover").length<1||(new Swiper(".swiper-discover",{slidesPerView:1,loop:!1,speed:1e3,spaceBetween:16,loopAdditionalSlides:8,navigation:{nextEl:".section-discover .swiper-button-next",prevEl:".section-discover .swiper-button-prev"},breakpoints:{991:{slidesPerView:2,spaceBetween:24}}}),ScrollTrigger.create({trigger:".section-discover",start:"top 40%",end:"bottom 60%",toggleClass:{targets:"body, main",className:"discover-active"},scrub:!1}))}function customDropdown(){let s=$(".dropdown-custom");s.each(function(){let o=$(this),t=o.find(".dropdown-custom__btn"),r=o.find(".dropdown-custom__menu");var e=o.find(".dropdown-custom__item");let i=o.find(".dropdown-custom__text");function a(t){$(".dropdown-custom__btn").removeClass("active"),s.each(function(){var e=$(this).find(".dropdown-custom__menu"),o=$(this).find(".dropdown-custom__btn");t&&$(this).is(t)||(e.removeClass("dropdown--active"),o.removeClass("--active"))})}t.on("click",function(e){e.stopPropagation(),a(o),r.toggleClass("dropdown--active"),t.toggleClass("--active")}),$(document).on("click",function(){a()}),e.on("click",function(e){e.stopPropagation();e=$(this);let o=i.text();var t=i.find("img").attr("src"),r=e.find("img");i.text(e.text()),r.length?(i.html(e.html()),e.hasClass("language__item")&&(o=`<span>${o}</span>`),e.html(`${t?`<img src="${t}" />`:""} `+o)):e.hasClass("language__item")&&e.text(o),a()})})}function animation(){gsap.registerPlugin(ScrollTrigger),gsap.utils.toArray(".data-fade-in").forEach((e,o)=>{gsap.fromTo(e,{opacity:0,y:20},{scrollTrigger:{trigger:e,start:"top 70%",end:"bottom 70%"},opacity:1,y:0,duration:1,ease:"power1.out",stagger:.1})}),gsap.utils.toArray(".data-zoom-in").forEach((e,o)=>{gsap.fromTo(e,{scale:1.1},{scrollTrigger:{trigger:e,start:"top 70%",end:"bottom 70%"},scale:1,duration:.5,ease:"none",stagger:.1})}),gsap.utils.toArray(".parallax-trigger").forEach(e=>{var o=e.querySelector("img");gsap.timeline({scrollTrigger:{trigger:e,scrub:!0,pin:!1}}).fromTo(o,{yPercent:-10,ease:"none"},{yPercent:10,ease:"none"})})}function sectionImage(){$(".section-image").length<1||(gsap.fromTo(".section-image .image-wrapper",{clipPath:"inset(0% 0% 0% 0%)"},{scrollTrigger:{trigger:".section-image",start:"top 70%",end:"bottom 70%",scrub:1},clipPath:()=>{var e=window.innerWidth,o=(e-(991<e?e-160:e-32))/2/e*100,t=document.querySelector(".section-image").offsetHeight,e=(t-(991<e?t-100:t))/2/t*100;return`inset(${e}% ${o}% ${e}% ${o}%)`},duration:.4,ease:"power2.out"}),gsap.fromTo(".section-image .image-wrapper img",{scale:1},{scrollTrigger:{trigger:".section-image",start:"top 70%",end:"bottom 70%",scrub:1},scale:1.1,duration:.4,ease:"power2.out"}))}Splitting(),$=jQuery;let init=()=>{gsap.registerPlugin(ScrollTrigger),header(),footer(),hero(),discover(),customDropdown(),animation(),sectionImage(),ScrollTrigger.refresh()};preloadImages("img").then(()=>{init()}),$(window).on("beforeunload",function(){$(window).scrollTop(0)}),window.addEventListener("resize",()=>{ScrollTrigger.refresh()});