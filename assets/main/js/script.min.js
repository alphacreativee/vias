import{preloadImages}from"../../libs/utils.js";let lenis;function header(){ScrollTrigger.refresh(),ScrollTrigger.create({start:"top top",end:99999,onUpdate:e=>{0===e.progress&&$("header").removeClass("header--scroll"),.004<e.progress?$("header").addClass("header--scroll"):$("header").removeClass("header--scroll"),.07<e.progress&&!e.vars.zoomInitialized&&(gsap.fromTo(".data-zoom-in-footer",{scale:1.1},{scale:1,duration:.5,ease:"none",stagger:.1}),e.vars.zoomInitialized=!0)}})}function discover(){$(".section-discover").length<1||new Swiper(".swiper-discover",{slidesPerView:2,slidesPerGroup:2,loop:!0,speed:1500,spaceBetween:24,loopAdditionalSlides:8,navigation:{nextEl:".swiper-discover .swiper-button-next",prevEl:".swiper-discover.swiper-button-prev"}})}function customDropdown(){let n=$(".dropdown-custom");n.each(function(){let o=$(this),t=o.find(".dropdown-custom__btn"),r=o.find(".dropdown-custom__menu");var e=o.find(".dropdown-custom__item");let i=o.find(".dropdown-custom__text");function s(t){$(".dropdown-custom__btn").removeClass("active"),n.each(function(){var e=$(this).find(".dropdown-custom__menu"),o=$(this).find(".dropdown-custom__btn");t&&$(this).is(t)||(e.removeClass("dropdown--active"),o.removeClass("--active"))})}t.on("click",function(e){e.stopPropagation(),s(o),r.toggleClass("dropdown--active"),t.toggleClass("--active")}),$(document).on("click",function(){s()}),e.on("click",function(e){e.stopPropagation();e=$(this);let o=i.text();var t=i.find("img").attr("src"),r=e.find("img");i.text(e.text()),r.length?(i.html(e.html()),e.hasClass("language__item")&&(o=`<span>${o}</span>`),e.html(`${t?`<img src="${t}" />`:""} `+o)):e.hasClass("language__item")&&e.text(o),s()})})}function animation(){gsap.registerPlugin(ScrollTrigger),gsap.utils.toArray(".data-fade-in").forEach((e,o)=>{gsap.fromTo(e,{opacity:0,y:20},{scrollTrigger:{trigger:e,start:"top 70%",end:"bottom 70%"},opacity:1,y:0,duration:1,ease:"power1.out",stagger:.1})}),gsap.utils.toArray(".data-zoom-in").forEach((e,o)=>{gsap.fromTo(e,{scale:1.1},{scrollTrigger:{trigger:e,start:"top 70%",end:"bottom 70%"},scale:1,duration:.5,ease:"none",stagger:.1})})}function sectionImage(){$(".section-image").length<1||gsap.fromTo(".section-image",{scale:1},{scrollTrigger:{trigger:".section-image",start:"top 70%",end:"bottom 70%",scrub:1},scale:()=>{var e=window.innerWidth;return(e-160)/e},duration:.4,ease:"power2.out"})}Splitting();let init=()=>{gsap.registerPlugin(ScrollTrigger),header(),discover(),customDropdown(),animation(),sectionImage()};preloadImages("img").then(()=>{init()}),$(window).on("beforeunload",function(){$(window).scrollTop(0)});